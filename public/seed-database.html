<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –¥–æ Firebase</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 0;
        }
        button:hover {
            background: #45a049;
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        .log {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 14px;
        }
        .success { color: #28a745; }
        .error { color: #dc3545; }
        .info { color: #007bff; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ†Ô∏è –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –¥–æ Firebase</h1>
        <p>–¶–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ–¥–∞—Å—Ç—å –ø–æ—á–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –¥–æ –≤–∞—à–æ—ó Firebase –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.</p>
        
        <button id="seedButton" onclick="seedDatabase()">üå± –î–æ–¥–∞—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ–¥—É–∫—Ç–∏</button>
        <button id="checkButton" onclick="checkProducts()">üìä –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏</button>
        
        <div id="log" class="log"></div>
    </div>

    <script type="module">
        // –Ü–º–ø–æ—Ä—Ç—É—î–º–æ Firebase
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCmkgvmWtC6vyqLdbUuH-3msicYRt885dU",
            authDomain: "test-task-project-ec1d3.firebaseapp.com",
            projectId: "test-task-project-ec1d3",
            storageBucket: "test-task-project-ec1d3.firebasestorage.app",
            messagingSenderId: "645851997520",
            appId: "1:645851997520:web:f0f5c0fb7ccde2d5023855",
            measurementId: "G-LEW3D0F4JP"
        };

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const log = document.getElementById('log');
        const seedButton = document.getElementById('seedButton');
        const checkButton = document.getElementById('checkButton');

        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = type;
            logEntry.textContent = `[${timestamp}] ${message}`;
            log.appendChild(logEntry);
            log.scrollTop = log.scrollHeight;
        }

        const initialProducts = [
            {
                name: "Nike Air Max 270",
                price: 129.99,
                image: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=400&fit=crop",
                description: "–ö–ª–∞—Å–∏—á–Ω—ñ –∫—Ä–æ—Å—ñ–≤–∫–∏ –∑ –ø–æ–≤—ñ—Ç—Ä—è–Ω–æ—é –ø–æ–¥—É—à–∫–æ—é –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–º—Ñ–æ—Ä—Ç—É",
                availableSizes: [36, 37, 38, 39, 40, 41, 42, 43, 44, 45],
                category: "–°–ø–æ—Ä—Ç–∏–≤–Ω—ñ",
                brand: "Nike",
                inStock: true,
                createdAt: new Date(),
                updatedAt: new Date()
            },
            {
                name: "Adidas Ultraboost 22",
                price: 179.99,
                image: "https://images.unsplash.com/photo-1608231387042-66d1773070a5?w=400&h=400&fit=crop",
                description: "–ë—ñ–≥–æ–≤—ñ –∫—Ä–æ—Å—ñ–≤–∫–∏ –∑ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—î—é Boost –¥–ª—è –≤—ñ–¥–º—ñ–Ω–Ω–æ—ó –∞–º–æ—Ä—Ç–∏–∑–∞—Ü—ñ—ó",
                availableSizes: [36, 37, 38, 39, 40, 41, 42, 43, 44],
                category: "–ë—ñ–≥–æ–≤—ñ",
                brand: "Adidas",
                inStock: true,
                createdAt: new Date(),
                updatedAt: new Date()
            },
            {
                name: "Puma RS-X",
                price: 89.99,
                image: "https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=400&h=400&fit=crop",
                description: "–†–µ—Ç—Ä–æ-—Å—Ç–∏–ª—å–Ω—ñ –∫—Ä–æ—Å—ñ–≤–∫–∏ –∑ —è—Å–∫—Ä–∞–≤–∏–º –¥–∏–∑–∞–π–Ω–æ–º —Ç–∞ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ—é –ø—ñ–¥–æ—à–≤–æ—é",
                availableSizes: [36, 37, 38, 39, 40, 41, 42, 43, 44, 45],
                category: "–ü–æ–≤—Å—è–∫–¥–µ–Ω–Ω—ñ",
                brand: "Puma",
                inStock: true,
                createdAt: new Date(),
                updatedAt: new Date()
            },
            {
                name: "New Balance 574",
                price: 79.99,
                image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=400&fit=crop",
                description: "–ö—É–ª—å—Ç–æ–≤—ñ –∫—Ä–æ—Å—ñ–≤–∫–∏ –∑ –∫–ª–∞—Å–∏—á–Ω–∏–º –¥–∏–∑–∞–π–Ω–æ–º —Ç–∞ –≤–∏—Å–æ–∫–æ—é —è–∫—ñ—Å—Ç—é",
                availableSizes: [36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46],
                category: "–ü–æ–≤—Å—è–∫–¥–µ–Ω–Ω—ñ",
                brand: "New Balance",
                inStock: true,
                createdAt: new Date(),
                updatedAt: new Date()
            },
            {
                name: "Converse Chuck Taylor",
                price: 59.99,
                image: "https://images.unsplash.com/photo-1607522370275-f14206abe5d3?w=400&h=400&fit=crop",
                description: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ñ –∫—Ä–æ—Å—ñ–≤–∫–∏, —è–∫—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –ø–æ–ø—É–ª—è—Ä–Ω–∏–º–∏ –¥–µ—Å—è—Ç–∏–ª—ñ—Ç—Ç—è–º–∏",
                availableSizes: [36, 37, 38, 39, 40, 41, 42, 43, 44, 45],
                category: "–ü–æ–≤—Å—è–∫–¥–µ–Ω–Ω—ñ",
                brand: "Converse",
                inStock: true,
                createdAt: new Date(),
                updatedAt: new Date()
            },
            {
                name: "Vans Old Skool",
                price: 64.99,
                image: "https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77?w=400&h=400&fit=crop",
                description: "–°–∫–µ–π—Ç–µ—Ä—Å—å–∫—ñ –∫—Ä–æ—Å—ñ–≤–∫–∏ –∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ—é –±—ñ—á–Ω–æ—é —Å–º—É–≥–æ—é",
                availableSizes: [36, 37, 38, 39, 40, 41, 42, 43, 44, 45],
                category: "–°–∫–µ–π—Ç–µ—Ä—Å—å–∫—ñ",
                brand: "Vans",
                inStock: true,
                createdAt: new Date(),
                updatedAt: new Date()
            },
            {
                name: "Reebok Classic",
                price: 69.99,
                image: "https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=400&h=400&fit=crop",
                description: "–ö–ª–∞—Å–∏—á–Ω—ñ –∫—Ä–æ—Å—ñ–≤–∫–∏ –∑ –º'—è–∫–æ—é –ø—ñ–¥–æ—à–≤–æ—é —Ç–∞ —Å—Ç–∏–ª—å–Ω–∏–º –¥–∏–∑–∞–π–Ω–æ–º",
                availableSizes: [36, 37, 38, 39, 40, 41, 42, 43, 44, 45],
                category: "–ü–æ–≤—Å—è–∫–¥–µ–Ω–Ω—ñ",
                brand: "Reebok",
                inStock: true,
                createdAt: new Date(),
                updatedAt: new Date()
            },
            {
                name: "ASICS Gel-Kayano",
                price: 149.99,
                image: "https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=400&fit=crop",
                description: "–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –±—ñ–≥–æ–≤—ñ –∫—Ä–æ—Å—ñ–≤–∫–∏ –∑ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—î—é Gel –¥–ª—è –∞–º–æ—Ä—Ç–∏–∑–∞—Ü—ñ—ó",
                availableSizes: [36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46],
                category: "–ë—ñ–≥–æ–≤—ñ",
                brand: "ASICS",
                inStock: true,
                createdAt: new Date(),
                updatedAt: new Date()
            }
        ];

        window.seedDatabase = async function() {
            try {
                seedButton.disabled = true;
                addLog('–ü–æ—á–∞—Ç–æ–∫ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤...', 'info');
                
                for (const product of initialProducts) {
                    try {
                        const docRef = await addDoc(collection(db, "products"), product);
                        addLog(`‚úÖ –î–æ–¥–∞–Ω–æ: ${product.name} (ID: ${docRef.id})`, 'success');
                    } catch (error) {
                        addLog(`‚ùå –ü–æ–º–∏–ª–∫–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è ${product.name}: ${error.message}`, 'error');
                    }
                }
                
                addLog('üéâ –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!', 'success');
            } catch (error) {
                addLog(`‚ùå –ó–∞–≥–∞–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞: ${error.message}`, 'error');
            } finally {
                seedButton.disabled = false;
            }
        };

        window.checkProducts = async function() {
            try {
                checkButton.disabled = true;
                addLog('–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö...', 'info');
                
                const querySnapshot = await getDocs(collection(db, "products"));
                const products = [];
                querySnapshot.forEach((doc) => {
                    products.push({ id: doc.id, ...doc.data() });
                });
                
                addLog(`üìä –ó–Ω–∞–π–¥–µ–Ω–æ ${products.length} –ø—Ä–æ–¥—É–∫—Ç—ñ–≤:`, 'info');
                products.forEach(product => {
                    addLog(`  ‚Ä¢ ${product.name} - ${product.price} –≥—Ä–Ω`, 'info');
                });
                
                if (products.length === 0) {
                    addLog('‚ö†Ô∏è –ü—Ä–æ–¥—É–∫—Ç–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–¥–∞—Ç–∏ —ó—Ö!', 'error');
                }
            } catch (error) {
                addLog(`‚ùå –ü–æ–º–∏–ª–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏: ${error.message}`, 'error');
            } finally {
                checkButton.disabled = false;
            }
        };

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        window.addEventListener('load', () => {
            addLog('üöÄ –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏!', 'success');
            checkProducts();
        });
    </script>
</body>
</html> 